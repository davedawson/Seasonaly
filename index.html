<!DOCTYPE HTML>

<html>
  <head>
    <title>Seasonal</title>
    <link href="favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" type="text/css" href="//cloud.typography.com/7750432/683202/css/fonts.css" />
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
    <!--[if IE]>
        <link href="/stylesheets/ie.css" media="screen, projection" rel="stylesheet" type="text/css" />
    <![endif]-->
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script> -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/js/markup.min.js"></script>
    <script src="/js/mustache.js"></script>
    <script src="/js/jquery-mustache.js"></script>
    <script src="/js/handlebars.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="For us who can't spell and don't know much about seasonal fruits or veggies.">
  </head>

  <body>
    <section class="header">
      <h1><a href="/">Seasonaly</a></h1>
      <a href="#" class="explain"><span>What is this</span>&darr;</a>
      <div class="explanation">
        <p>Seasonaly is a tiny website for people that can't spell and don't know that much about fruits &amp; veggies. This page lists the fruits and vegetables that are in season today. <a href="/purpose">Read why &rarr;</a></p>
      </div>
      <div class="today">
        <p><em></em>, <strong></strong>, in <span>New York City</span></p>
      </div>
    </section>
    <section class="base">

      <ul id="food-list">
      </ul>
    </section>

    <script id="food-data" type="text/template">
      {{foods}}
        <li>
          <a href="#" class="{{type}}">
            <h2>{{title}}</h2>
            <div class="more-info">
              <p><strong>Check ripeness: </strong>{{description}}</p>
            </div>
          </a>
        </li>
      {{/foods}}
    </script>

    <script>
    var json = null
    $.getJSON('/json/test2.json', function(data) {
      json = data;
      console.log( 'json loaded' );
      console.log(json);
      var template = $('#food-data').html();
      // var template = document.getElementById("food-data").firstChild.textContent;
//    var template = "<p>{{foods}}{{title}}{{locations.nyc.months}}{{/foods}}</p>";
      var result = Mark.up(template, json); // "Hi, John!"
      $('#food-list').append(result);

    });
    var context = {
      foods: [
        {
      "title": "Apples",
      "type": "fruit",
      "image": "apple.jpg",
      "description": "Pick up the apple, and feel for any soft areas and look for any discoloration. When apples are past ripeness, they become brown (oxidization) and soft or mushy.",
      "locations": {
          "nyc": {
            "months": [7,8,9,10]
          }
      },
      "source": "http://localfoods.about.com/od/searchbyregion/a/nyseasons.htm"
    },
{
      "title": "Arugula",
      "type": "vegetable",
      "image": "apricot.jpg",
      "description": "lipsum",
      "locations": {
          "nyc": {
            "months": [5,6,7,8,9]
          }
      },
      "source": "http://localfoods.about.com/od/searchbyregion/a/nyseasons.htm"
    }
        ]
  };

    </script>
    <!--
    <script>
    $.getJSON('/json/fv.json', function(data) {
      console.log( 'json loaded' );

      var template = $('#food-data').html();
      var html = Mustache.to_html(template, data);
      $('#food-list').append(html);
      moreInfo();
    });
    </script>
  -->
    <script src="/js/index.js"></script>
  </body>
</html>
